
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2, mkdocs-material-7.1.7">
    
    
      
        <title>Evolution - Neurolib</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../css/pandas-dataframe.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-189722517-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#evolution" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Neurolib" class="md-header__button md-logo" aria-label="Neurolib" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Neurolib
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Evolution
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/neurolib-dev/neurolib/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    neurolib-dev/neurolib
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Neurolib" class="md-nav__button md-logo" aria-label="Neurolib" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Neurolib
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/neurolib-dev/neurolib/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    neurolib-dev/neurolib
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing.html" class="md-nav__link">
        Contributing to neurolib
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Examples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-0-aln-minimal.html" class="md-nav__link">
        Example 0 aln minimal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-0.1-hopf-minimal.html" class="md-nav__link">
        Example 0.1 hopf minimal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-0.2-basic_analysis.html" class="md-nav__link">
        Example 0.2 basic analysis
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-0.3-fhn-minimal.html" class="md-nav__link">
        Example 0.3 fhn minimal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-0.4-wc-minimal.html" class="md-nav__link">
        Example 0.4 wc minimal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-0.5-aln-external-stimulus.html" class="md-nav__link">
        Example 0.5 aln external stimulus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-0.6-custom-model.html" class="md-nav__link">
        Example 0.6 custom model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-1-aln-parameter-exploration.html" class="md-nav__link">
        Example 1 aln parameter exploration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-1.1-custom-parameter-exploration.html" class="md-nav__link">
        Example 1.1 custom parameter exploration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-1.2-brain-network-exploration.html" class="md-nav__link">
        Example 1.2 brain network exploration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-1.2.1-brain-exploration-postprocessing.html" class="md-nav__link">
        Example 1.2.1 brain exploration postprocessing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-1.3-aln-bifurcation-diagram.html" class="md-nav__link">
        Example 1.3 aln bifurcation diagram
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-2-evolutionary-optimization-minimal.html" class="md-nav__link">
        Example 2 evolutionary optimization minimal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-2.0.1-save-and-load-evolution.html" class="md-nav__link">
        Example 2.0.1 save and load evolution
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-2.1-evolutionary-optimization-aln.html" class="md-nav__link">
        Example 2.1 evolutionary optimization aln
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-2.2-evolution-brain-network-aln-resting-state-fit.html" class="md-nav__link">
        Example 2.2 evolution brain network aln resting state fit
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-3-meg-functional-connectivity.html" class="md-nav__link">
        Example 3 meg functional connectivity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-4-multimodel-intro.html" class="md-nav__link">
        Example 4 multimodel intro
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../examples/example-4.1-creating-new-model.html" class="md-nav__link">
        Example 4.1 creating new model
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Exploration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Exploration" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Exploration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../exploration/boxsearch.html" class="md-nav__link">
        BoxSearch
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Models
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Models" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../models/model.html" class="md-nav__link">
        Models
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../models/parameters.html" class="md-nav__link">
        Parameters
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      <label class="md-nav__link" for="__nav_6">
        Optimization
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Optimization" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Optimization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Evolution
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="evolution.html" class="md-nav__link md-nav__link--active">
        Evolution
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution" class="md-nav__link">
    neurolib.optimize.evolution.evolution.Evolution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.dfEvolution" class="md-nav__link">
    dfEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.dfPop" class="md-nav__link">
    dfPop()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getIndividualFromHistory" class="md-nav__link">
    getIndividualFromHistory()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getIndividualFromTraj" class="md-nav__link">
    getIndividualFromTraj()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getInvalidPopulation" class="md-nav__link">
    getInvalidPopulation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getModelFromTraj" class="md-nav__link">
    getModelFromTraj()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getScores" class="md-nav__link">
    getScores()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getScoresDuringEvolution" class="md-nav__link">
    getScoresDuringEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getValidPopulation" class="md-nav__link">
    getValidPopulation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.individualToDict" class="md-nav__link">
    individualToDict()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.info" class="md-nav__link">
    info()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.loadEvolution" class="md-nav__link">
    loadEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.loadResults" class="md-nav__link">
    loadResults()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.plotProgress" class="md-nav__link">
    plotProgress()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.run" class="md-nav__link">
    run()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.runEvolution" class="md-nav__link">
    runEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.runInitial" class="md-nav__link">
    runInitial()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.saveEvolution" class="md-nav__link">
    saveEvolution()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Utils
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Utils" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../utils/dataset.html" class="md-nav__link">
        Dataset
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../utils/functions.html" class="md-nav__link">
        Functions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../utils/parameterspace.html" class="md-nav__link">
        ParameterSpace
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../utils/signal.html" class="md-nav__link">
        Signal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../utils/stimulus.html" class="md-nav__link">
        Stimulus
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution" class="md-nav__link">
    neurolib.optimize.evolution.evolution.Evolution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.dfEvolution" class="md-nav__link">
    dfEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.dfPop" class="md-nav__link">
    dfPop()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getIndividualFromHistory" class="md-nav__link">
    getIndividualFromHistory()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getIndividualFromTraj" class="md-nav__link">
    getIndividualFromTraj()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getInvalidPopulation" class="md-nav__link">
    getInvalidPopulation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getModelFromTraj" class="md-nav__link">
    getModelFromTraj()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getScores" class="md-nav__link">
    getScores()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getScoresDuringEvolution" class="md-nav__link">
    getScoresDuringEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.getValidPopulation" class="md-nav__link">
    getValidPopulation()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.individualToDict" class="md-nav__link">
    individualToDict()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.info" class="md-nav__link">
    info()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.loadEvolution" class="md-nav__link">
    loadEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.loadResults" class="md-nav__link">
    loadResults()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.plotProgress" class="md-nav__link">
    plotProgress()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.run" class="md-nav__link">
    run()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.runEvolution" class="md-nav__link">
    runEvolution()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.runInitial" class="md-nav__link">
    runInitial()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#neurolib.optimize.evolution.evolution.Evolution.saveEvolution" class="md-nav__link">
    saveEvolution()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/neurolib-dev/neurolib/edit/master/docs/optimization/evolution.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="evolution">Evolution</h1>


  <div class="doc doc-object doc-class">

<a id="neurolib.optimize.evolution.evolution.Evolution"></a>
    <div class="doc doc-contents first">

      <p>Evolutionary parameter optimization. This class helps you to optimize any function or model using an evlutionary algorithm.
It uses the package <code>deap</code> and supports its builtin mating and selection functions as well as custom ones.</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evalFunction</span><span class="p">,</span> <span class="n">parameterSpace</span><span class="p">,</span> <span class="n">weightList</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;evolution.hdf&#39;</span><span class="p">,</span> <span class="n">ncores</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">POP_INIT_SIZE</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">POP_SIZE</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">NGEN</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;adaptive&#39;</span><span class="p">,</span> <span class="n">matingOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">MATE_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mutationOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">MUTATE_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">selectionOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">SELECT_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parentSelectionOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">PARENT_SELECT_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">individualGenerator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">IND_GENERATOR_P</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents ">

      <p>Initialize evolutionary optimization.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>evalFunction</code></td>
        <td><code>function</code></td>
        <td><p>Evaluation function of a run that provides a fitness vector and simulation outputs</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>parameterSpace</code></td>
        <td><code>`neurolib.utils.parameterSpace.ParameterSpace`</code></td>
        <td><p>Parameter space to run evolution in.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>weightList</code></td>
        <td><code>list[float], optional</code></td>
        <td><p>List of floats that defines the dimensionality of the fitness vector returned from evalFunction and the weights of each component for multiobjective optimization (positive = maximize, negative = minimize). If not given, then a single positive weight will be used, defaults to None</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td><code>`neurolib.models.model.Model`, optional</code></td>
        <td><p>Model to simulate, defaults to None</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td><code>str, optional</code></td>
        <td><p>HDF file to store all results in, defaults to "evolution.hdf"</p></td>
        <td><code>&#39;evolution.hdf&#39;</code></td>
      </tr>
      <tr>
        <td><code>ncores</code></td>
        <td><code>int, optional</code></td>
        <td><p>Number of cores to simulate on (max cores default), defaults to None</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>POP_INIT_SIZE</code></td>
        <td><code>int, optional</code></td>
        <td><p>Size of first population to initialize evolution with (random, uniformly distributed), defaults to 100</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>POP_SIZE</code></td>
        <td><code>int, optional</code></td>
        <td><p>Size of the population during evolution, defaults to 20</p></td>
        <td><code>20</code></td>
      </tr>
      <tr>
        <td><code>NGEN</code></td>
        <td><code>int, optional</code></td>
        <td><p>Numbers of generations to evaluate, defaults to 10</p></td>
        <td><code>10</code></td>
      </tr>
      <tr>
        <td><code>matingOperator</code></td>
        <td><code>Union[deap operat,, optional]</code></td>
        <td><p>Custom mating operator, defaults to deap.tools.cxBlend</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>MATE_P</code></td>
        <td><code>dict, optional</code></td>
        <td><p>Mating operator keyword arguments (for the default crossover operator cxBlend, this defaults <code>alpha</code> = 0.5)</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>mutationOperator</code></td>
        <td><code>Union[deap operat,, optional]</code></td>
        <td><p>Custom mutation operator, defaults to du.gaussianAdaptiveMutation_nStepSizes</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>MUTATE_P</code></td>
        <td><code>dict, optional</code></td>
        <td><p>Mutation operator keyword arguments</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>selectionOperator</code></td>
        <td><code>Union[deap operat,, optional]</code></td>
        <td><p>Custom selection operator, defaults to du.selBest_multiObj</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>SELECT_P</code></td>
        <td><code>dict, optional</code></td>
        <td><p>Selection operator keyword arguments</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>parentSelectionOperator</code></td>
        <td><code></code></td>
        <td><p>Operator for parent selection, defaults to du.selRank</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>PARENT_SELECT_P</code></td>
        <td><code>dict, optional</code></td>
        <td><p>Parent selection operator keyword arguments (for the default operator selRank, this defaults to <code>s</code> = 1.5 in Eiben&amp;Smith p.81)</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>individualGenerator</code></td>
        <td><code></code></td>
        <td><p>Function to generate initial individuals, defaults to du.randomParametersAdaptive</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">evalFunction</span><span class="p">,</span>
    <span class="n">parameterSpace</span><span class="p">,</span>
    <span class="n">weightList</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;evolution.hdf&quot;</span><span class="p">,</span>
    <span class="n">ncores</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">POP_INIT_SIZE</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">POP_SIZE</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">NGEN</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;adaptive&quot;</span><span class="p">,</span>
    <span class="n">matingOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">MATE_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">mutationOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">MUTATE_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">selectionOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">SELECT_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">parentSelectionOperator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">PARENT_SELECT_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">individualGenerator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">IND_GENERATOR_P</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize evolutionary optimization.</span>
<span class="sd">    :param evalFunction: Evaluation function of a run that provides a fitness vector and simulation outputs</span>
<span class="sd">    :type evalFunction: function</span>
<span class="sd">    :param parameterSpace: Parameter space to run evolution in.</span>
<span class="sd">    :type parameterSpace: `neurolib.utils.parameterSpace.ParameterSpace`</span>
<span class="sd">    :param weightList: List of floats that defines the dimensionality of the fitness vector returned from evalFunction and the weights of each component for multiobjective optimization (positive = maximize, negative = minimize). If not given, then a single positive weight will be used, defaults to None</span>
<span class="sd">    :type weightList: list[float], optional</span>
<span class="sd">    :param model: Model to simulate, defaults to None</span>
<span class="sd">    :type model: `neurolib.models.model.Model`, optional</span>

<span class="sd">    :param filename: HDF file to store all results in, defaults to &quot;evolution.hdf&quot;</span>
<span class="sd">    :type filename: str, optional</span>
<span class="sd">    :param ncores: Number of cores to simulate on (max cores default), defaults to None</span>
<span class="sd">    :type ncores: int, optional</span>

<span class="sd">    :param POP_INIT_SIZE: Size of first population to initialize evolution with (random, uniformly distributed), defaults to 100</span>
<span class="sd">    :type POP_INIT_SIZE: int, optional</span>
<span class="sd">    :param POP_SIZE: Size of the population during evolution, defaults to 20</span>
<span class="sd">    :type POP_SIZE: int, optional</span>
<span class="sd">    :param NGEN: Numbers of generations to evaluate, defaults to 10</span>
<span class="sd">    :type NGEN: int, optional</span>

<span class="sd">    :param matingOperator: Custom mating operator, defaults to deap.tools.cxBlend</span>
<span class="sd">    :type matingOperator: deap operator, optional</span>
<span class="sd">    :param MATE_P: Mating operator keyword arguments (for the default crossover operator cxBlend, this defaults `alpha` = 0.5)</span>
<span class="sd">    :type MATE_P: dict, optional</span>

<span class="sd">    :param mutationOperator: Custom mutation operator, defaults to du.gaussianAdaptiveMutation_nStepSizes</span>
<span class="sd">    :type mutationOperator: deap operator, optional</span>
<span class="sd">    :param MUTATE_P: Mutation operator keyword arguments</span>
<span class="sd">    :type MUTATE_P: dict, optional</span>

<span class="sd">    :param selectionOperator: Custom selection operator, defaults to du.selBest_multiObj</span>
<span class="sd">    :type selectionOperator: deap operator, optional</span>
<span class="sd">    :param SELECT_P: Selection operator keyword arguments</span>
<span class="sd">    :type SELECT_P: dict, optional</span>

<span class="sd">    :param parentSelectionOperator: Operator for parent selection, defaults to du.selRank</span>
<span class="sd">    :param PARENT_SELECT_P: Parent selection operator keyword arguments (for the default operator selRank, this defaults to `s` = 1.5 in Eiben&amp;Smith p.81)</span>
<span class="sd">    :type PARENT_SELECT_P: dict, optional</span>

<span class="sd">    :param individualGenerator: Function to generate initial individuals, defaults to du.randomParametersAdaptive</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">weightList</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;weightList not set, assuming single fitness value to be maximized.&quot;</span><span class="p">)</span>
        <span class="n">weightList</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>

    <span class="n">trajectoryName</span> <span class="o">=</span> <span class="s2">&quot;results&quot;</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;-%Y-%m-</span><span class="si">%d</span><span class="s2">-%HH-%MM-%SS&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Trajectory Name: </span><span class="si">{</span><span class="n">trajectoryName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">HDF_FILE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">paths</span><span class="o">.</span><span class="n">HDF_DIR</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
    <span class="n">trajectoryFileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">HDF_FILE</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Storing data to: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">trajectoryFileName</span><span class="p">))</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Trajectory Name: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">trajectoryName</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ncores</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ncores</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Number of cores: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ncores</span><span class="p">))</span>

    <span class="c1"># initialize pypet environment</span>
    <span class="c1"># env = pp.Environment(trajectory=trajectoryName, filename=trajectoryFileName)</span>
    <span class="n">env</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">Environment</span><span class="p">(</span>
        <span class="n">trajectory</span><span class="o">=</span><span class="n">trajectoryName</span><span class="p">,</span>
        <span class="n">filename</span><span class="o">=</span><span class="n">trajectoryFileName</span><span class="p">,</span>
        <span class="n">use_pool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">multiproc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">ncores</span><span class="o">=</span><span class="n">ncores</span><span class="p">,</span>
        <span class="n">complevel</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
        <span class="n">log_config</span><span class="o">=</span><span class="n">paths</span><span class="o">.</span><span class="n">PYPET_LOGGING_CONFIG</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Get the trajectory from the environment</span>
    <span class="n">traj</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">traj</span>
    <span class="c1"># Sanity check if everything went ok</span>
    <span class="k">assert</span> <span class="p">(</span>
        <span class="n">trajectoryName</span> <span class="o">==</span> <span class="n">traj</span><span class="o">.</span><span class="n">v_name</span>
    <span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;Pypet trajectory has a different name than trajectoryName </span><span class="si">{</span><span class="n">trajectoryName</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="c1"># trajectoryName = traj.v_name</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">evalFunction</span> <span class="o">=</span> <span class="n">evalFunction</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">weightList</span> <span class="o">=</span> <span class="n">weightList</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">NGEN</span> <span class="o">=</span> <span class="n">NGEN</span>
    <span class="k">assert</span> <span class="n">POP_SIZE</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Please chose an even number for POP_SIZE!&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">POP_SIZE</span> <span class="o">=</span> <span class="n">POP_SIZE</span>
    <span class="k">assert</span> <span class="n">POP_INIT_SIZE</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Please chose an even number for POP_INIT_SIZE!&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">POP_INIT_SIZE</span> <span class="o">=</span> <span class="n">POP_INIT_SIZE</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ncores</span> <span class="o">=</span> <span class="n">ncores</span>

    <span class="c1"># comment string for storing info</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="s2">&quot;no comments&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">traj</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">traj</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">env</span> <span class="o">=</span> <span class="n">env</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trajectoryName</span> <span class="o">=</span> <span class="n">trajectoryName</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trajectoryFileName</span> <span class="o">=</span> <span class="n">trajectoryFileName</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_initialPopulationSimulated</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># -------- settings</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verbose_plotting</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plotColor</span> <span class="o">=</span> <span class="s2">&quot;C0&quot;</span>

    <span class="c1"># -------- simulation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span> <span class="o">=</span> <span class="n">parameterSpace</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ParametersInterval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">named_tuple_constructor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">named_tuple</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span> <span class="o">=</span> <span class="n">deap</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Toolbox</span><span class="p">()</span>

    <span class="c1"># -------- algorithms</span>
    <span class="k">if</span> <span class="n">algorithm</span> <span class="o">==</span> <span class="s2">&quot;adaptive&quot;</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Evolution: Using algorithm: </span><span class="si">{</span><span class="n">algorithm</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">matingOperator</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">cxBlend</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MATE_P</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span> <span class="ow">or</span> <span class="n">MATE_P</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mutationOperator</span> <span class="o">=</span> <span class="n">du</span><span class="o">.</span><span class="n">gaussianAdaptiveMutation_nStepSizes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectionOperator</span> <span class="o">=</span> <span class="n">du</span><span class="o">.</span><span class="n">selBest_multiObj</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parentSelectionOperator</span> <span class="o">=</span> <span class="n">du</span><span class="o">.</span><span class="n">selRank</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">PARENT_SELECT_P</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">}</span> <span class="ow">or</span> <span class="n">PARENT_SELECT_P</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">individualGenerator</span> <span class="o">=</span> <span class="n">du</span><span class="o">.</span><span class="n">randomParametersAdaptive</span>

    <span class="k">elif</span> <span class="n">algorithm</span> <span class="o">==</span> <span class="s2">&quot;nsga2&quot;</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Evolution: Using algorithm: </span><span class="si">{</span><span class="n">algorithm</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">matingOperator</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">cxSimulatedBinaryBounded</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MATE_P</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;low&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">lowerBound</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">upperBound</span><span class="p">,</span>
            <span class="s2">&quot;eta&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
        <span class="p">}</span> <span class="ow">or</span> <span class="n">MATE_P</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mutationOperator</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">mutPolynomialBounded</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">MUTATE_P</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;low&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">lowerBound</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">upperBound</span><span class="p">,</span>
            <span class="s2">&quot;eta&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
            <span class="s2">&quot;indpb&quot;</span><span class="p">:</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">weightList</span><span class="p">),</span>
        <span class="p">}</span> <span class="ow">or</span> <span class="n">MUTATE_P</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectionOperator</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">selNSGA2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parentSelectionOperator</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">selTournamentDCD</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">individualGenerator</span> <span class="o">=</span> <span class="n">du</span><span class="o">.</span><span class="n">randomParameters</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Evolution: algorithm must be one of the following: [&#39;adaptive&#39;, &#39;nsga2&#39;]&quot;</span><span class="p">)</span>

    <span class="c1"># if the operators are set manually, then overwrite them</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matingOperator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matingOperator</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;matingOperator&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">matingOperator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mutationOperator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutationOperator</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;mutationOperator&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">mutationOperator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selectionOperator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectionOperator</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;selectionOperator&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">selectionOperator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parentSelectionOperator</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parentSelectionOperator</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;parentSelectionOperator&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">parentSelectionOperator</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">individualGenerator</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">individualGenerator</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;individualGenerator&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">individualGenerator</span>
    <span class="p">)</span>

    <span class="c1"># let&#39;s also make sure that the parameters are set correctly</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">MATE_P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MATE_P</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;MATE_P&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">PARENT_SELECT_P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARENT_SELECT_P</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;PARENT_SELECT_P&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">MUTATE_P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MUTATE_P</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;MUTATE_P&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">SELECT_P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SELECT_P</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;SELECT_P&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_initDEAP</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">evalFunction</span><span class="p">,</span>
        <span class="n">weightList</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">weightList</span><span class="p">,</span>
        <span class="n">matingOperator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">matingOperator</span><span class="p">,</span>
        <span class="n">mutationOperator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mutationOperator</span><span class="p">,</span>
        <span class="n">selectionOperator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selectionOperator</span><span class="p">,</span>
        <span class="n">parentSelectionOperator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parentSelectionOperator</span><span class="p">,</span>
        <span class="n">individualGenerator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">individualGenerator</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># set up pypet trajectory</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_initPypetTrajectory</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">POP_SIZE</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">NGEN</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># population history: dict of all valid individuals per generation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">history</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># initialize population</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">evaluationCounter</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_id</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.dfEvolution">
<code class="highlight language-python"><span class="n">dfEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns a <code>pandas</code> DataFrame with the individuals of the the whole evolution.
This method can be usef after loading an evolution from disk using loadEvolution()</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[`pandas.c,e.frame.DataFrame`]</code></td>
      <td><p>Pandas DataFrame with all individuals and their parameters</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dfEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a `pandas` DataFrame with the individuals of the the whole evolution.</span>
<span class="sd">    This method can be usef after loading an evolution from disk using loadEvolution()</span>

<span class="sd">    :return: Pandas DataFrame with all individuals and their parameters</span>
<span class="sd">    :rtype: `pandas.core.frame.DataFrame`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">parameterNames</span>
    <span class="n">allIndividuals</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">gen</span><span class="p">,</span> <span class="n">pop</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pop</span><span class="p">]</span>
    <span class="n">popArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span> <span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="o">.</span><span class="n">_fields</span><span class="p">)]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">allIndividuals</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
    <span class="n">dfEvolution</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">popArray</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">parameters</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    <span class="c1"># add more information to the dataframe</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">allIndividuals</span><span class="p">]</span>
    <span class="n">indIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">allIndividuals</span><span class="p">]</span>
    <span class="n">dfEvolution</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scores</span>
    <span class="n">dfEvolution</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">indIds</span>
    <span class="n">dfEvolution</span><span class="p">[</span><span class="s2">&quot;gen&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">gIdx</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">allIndividuals</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">outputs</span><span class="p">:</span>
        <span class="n">dfEvolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_outputToDf</span><span class="p">(</span><span class="n">allIndividuals</span><span class="p">,</span> <span class="n">dfEvolution</span><span class="p">)</span>

    <span class="c1"># add fitness columns</span>
    <span class="c1"># NOTE: have to do this with wvalues and divide by weights later, why?</span>
    <span class="c1"># Because after loading the evolution with dill, somehow multiple fitnesses</span>
    <span class="c1"># dissappear and only the first one is left. However, wvalues still has all</span>
    <span class="c1"># fitnesses, and we have acces to weightList, so this hack kind of helps</span>
    <span class="n">n_fitnesses</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">wvalues</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_fitnesses</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ip</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">allIndividuals</span><span class="p">):</span>
            <span class="n">dfEvolution</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ip</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;f</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">wvalues</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">weightList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

    <span class="c1"># the history keeps all individuals of all generations</span>
    <span class="c1"># there can be duplicates (in elitism for example), which we filter</span>
    <span class="c1"># out for the dataframe</span>
    <span class="n">dfEvolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dropDuplicatesFromDf</span><span class="p">(</span><span class="n">dfEvolution</span><span class="p">)</span>
    <span class="n">dfEvolution</span> <span class="o">=</span> <span class="n">dfEvolution</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dfEvolution</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.dfPop">
<code class="highlight language-python"><span class="n">dfPop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns a <code>pandas</code> DataFrame of the current generation's population parameters.
This object can be further used to easily analyse the population.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[`pandas.c,e.frame.DataFrame`]</code></td>
      <td><p>Pandas DataFrame with all individuals and their parameters</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dfPop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a `pandas` DataFrame of the current generation&#39;s population parameters.</span>
<span class="sd">    This object can be further used to easily analyse the population.</span>
<span class="sd">    :return: Pandas DataFrame with all individuals and their parameters</span>
<span class="sd">    :rtype: `pandas.core.frame.DataFrame`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># add the current population to the dataframe</span>
    <span class="n">validPop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">)</span>
    <span class="n">indIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">validPop</span><span class="p">]</span>
    <span class="n">popArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span> <span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="o">.</span><span class="n">_fields</span><span class="p">)]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">validPop</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>

    <span class="n">dfPop</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">popArray</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">parameterNames</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>

    <span class="c1"># add more information to the dataframe</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getScores</span><span class="p">()</span>
    <span class="n">dfPop</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scores</span>
    <span class="n">dfPop</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">indIds</span>
    <span class="n">dfPop</span><span class="p">[</span><span class="s2">&quot;gen&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">gIdx</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">validPop</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">outputs</span><span class="p">:</span>
        <span class="n">dfPop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_outputToDf</span><span class="p">(</span><span class="n">validPop</span><span class="p">,</span> <span class="n">dfPop</span><span class="p">)</span>

    <span class="c1"># add fitness columns</span>
    <span class="c1"># NOTE: when loading an evolution with dill using loadingEvolution</span>
    <span class="c1"># MultiFitness values dissappear and only one is left.</span>
    <span class="c1"># See dfEvolution() for a solution using wvalues</span>
    <span class="n">n_fitnesses</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">validPop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_fitnesses</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ip</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">validPop</span><span class="p">):</span>
            <span class="n">column_name</span> <span class="o">=</span> <span class="s2">&quot;f&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">dfPop</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ip</span><span class="p">,</span> <span class="n">column_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">dfPop</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.getIndividualFromHistory">
<code class="highlight language-python"><span class="n">getIndividualFromHistory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Searches the entire evolution history for an individual with a specific id and returns it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>id</code></td>
        <td><code>int</code></td>
        <td><p>Individual id</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[`deap.creat,.Individual`]</code></td>
      <td><p>Individual (<code>DEAP</code> type)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getIndividualFromHistory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Searches the entire evolution history for an individual with a specific id and returns it.</span>

<span class="sd">    :param id: Individual id</span>
<span class="sd">    :type id: int</span>
<span class="sd">    :return: Individual (`DEAP` type)</span>
<span class="sd">    :rtype: `deap.creator.Individual`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">id</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">p</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No individual with id=</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2"> found. Returning `None`&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.getIndividualFromTraj">
<code class="highlight language-python"><span class="n">getIndividualFromTraj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traj</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get individual from pypet trajectory</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>traj</code></td>
        <td><code>Union[`pypet.traject,y.Traject,y`]</code></td>
        <td><p>Pypet trajectory</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[`deap.creat,.Individual`]</code></td>
      <td><p>Individual (<code>DEAP</code> type)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getIndividualFromTraj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get individual from pypet trajectory</span>

<span class="sd">    :param traj: Pypet trajectory</span>
<span class="sd">    :type traj: `pypet.trajectory.Trajectory`</span>
<span class="sd">    :return: Individual (`DEAP` type)</span>
<span class="sd">    :rtype: `deap.creator.Individual`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># either pass an individual or a pypet trajectory with the attribute individual</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">traj</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Individual&quot;</span><span class="p">:</span>
        <span class="n">individual</span> <span class="o">=</span> <span class="n">traj</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">individual</span> <span class="o">=</span> <span class="n">traj</span><span class="o">.</span><span class="n">individual</span>
        <span class="n">ind_id</span> <span class="o">=</span> <span class="n">traj</span><span class="o">.</span><span class="n">id</span>
        <span class="n">individual</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">ind_id</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">individual</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">individual</span> <span class="o">=</span> <span class="n">individual</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">individual</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.getInvalidPopulation">
<code class="highlight language-python"><span class="n">getInvalidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pop</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns a list of the invalid population.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pop</code></td>
        <td><code>deap population</code></td>
        <td><p>Population to check, defaults to self.pop</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>list</code></td>
      <td><p>List of invalid population</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getInvalidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pop</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of the invalid population.</span>

<span class="sd">    :params pop: Population to check, defaults to self.pop</span>
<span class="sd">    :type pop: deap population</span>
<span class="sd">    :return: List of invalid population</span>
<span class="sd">    :rtype: list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="n">pop</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pop</span> <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">()</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.getModelFromTraj">
<code class="highlight language-python"><span class="n">getModelFromTraj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traj</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Return the appropriate model with parameters for this individual</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>traj</code></td>
        <td><code>Union[`pypet.traject,y.Traject,y`]</code></td>
        <td><p>Pypet trajectory with individual (traj.individual) or directly a deap.Individual</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>`neurolib.models.model.Model`</code></td>
      <td><p>Model with the parameters of this individual.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getModelFromTraj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the appropriate model with parameters for this individual</span>
<span class="sd">    :params traj: Pypet trajectory with individual (traj.individual) or directly a deap.Individual</span>

<span class="sd">    :returns model: Model with the parameters of this individual.</span>

<span class="sd">    :param traj: Pypet trajectory with individual (traj.individual) or directly a deap.Individual</span>
<span class="sd">    :type traj: `pypet.trajectory.Trajectory`</span>
<span class="sd">    :return: Model with the parameters of this individual.</span>
<span class="sd">    :rtype: `neurolib.models.model.Model`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span>
    <span class="c1"># resolve star notation - MultiModel</span>
    <span class="n">individual_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">individualToDict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getIndividualFromTraj</span><span class="p">(</span><span class="n">traj</span><span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">star</span><span class="p">:</span>
        <span class="n">individual_params</span> <span class="o">=</span> <span class="n">unwrap_star_dotdict</span><span class="p">(</span><span class="n">individual_params</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">replaced_dict</span><span class="o">=</span><span class="n">BACKWARD_REPLACE</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">individual_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.getScores">
<code class="highlight language-python"><span class="n">getScores</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns the scores of the current valid population</p>

        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getScores</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the scores of the current valid population&quot;&quot;&quot;</span>
    <span class="n">validPop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">pop</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">score</span> <span class="k">for</span> <span class="n">pop</span> <span class="ow">in</span> <span class="n">validPop</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.getScoresDuringEvolution">
<code class="highlight language-python"><span class="n">getScoresDuringEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drop_first</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the scores of each generation's population.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>traj</code></td>
        <td><code>Union[`pypet.traject,y.Traject,y`, optional]</code></td>
        <td><p>Pypet trajectory. If not given, the current trajectory is used, defaults to None</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>drop_first</code></td>
        <td><code>bool, optional</code></td>
        <td><p>Drop the first (initial) generation. This can be usefull because it can have a different size (<code>POP_INIT_SIZE</code>) than the succeeding populations (<code>POP_SIZE</code>) which can make data handling tricky, defaults to True</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>reverse</code></td>
        <td><code>bool, optional</code></td>
        <td><p>Reverse the order of each generation. This is a necessary workaraound because loading from the an hdf file returns the generations in a reversed order compared to loading each generation from the pypet trajectory in memory, defaults to False</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>tuple[list, numpy.ndarray]</code></td>
      <td><p>Tuple of list of all generations and an array of the scores of all individuals</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getScoresDuringEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drop_first</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the scores of each generation&#39;s population.</span>

<span class="sd">    :param traj: Pypet trajectory. If not given, the current trajectory is used, defaults to None</span>
<span class="sd">    :type traj: `pypet.trajectory.Trajectory`, optional</span>
<span class="sd">    :param drop_first: Drop the first (initial) generation. This can be usefull because it can have a different size (`POP_INIT_SIZE`) than the succeeding populations (`POP_SIZE`) which can make data handling tricky, defaults to True</span>
<span class="sd">    :type drop_first: bool, optional</span>
<span class="sd">    :param reverse: Reverse the order of each generation. This is a necessary workaraound because loading from the an hdf file returns the generations in a reversed order compared to loading each generation from the pypet trajectory in memory, defaults to False</span>
<span class="sd">    :type reverse: bool, optional</span>
<span class="sd">    :return: Tuple of list of all generations and an array of the scores of all individuals</span>
<span class="sd">    :rtype: tuple[list, numpy.ndarray]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">traj</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">traj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">traj</span>

    <span class="n">generation_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">traj</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">evolution</span><span class="o">.</span><span class="n">f_to_dict</span><span class="p">(</span><span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">reverse</span><span class="p">:</span>
        <span class="n">generation_names</span> <span class="o">=</span> <span class="n">generation_names</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">drop_first</span> <span class="ow">and</span> <span class="s2">&quot;gen_000000&quot;</span> <span class="ow">in</span> <span class="n">generation_names</span><span class="p">:</span>
        <span class="n">generation_names</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;gen_000000&quot;</span><span class="p">)</span>

    <span class="n">npop</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">traj</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">evolution</span><span class="p">[</span><span class="n">generation_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">scores</span><span class="p">)</span>

    <span class="n">gens</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">generation_names</span><span class="p">),</span> <span class="n">npop</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">generation_names</span><span class="p">):</span>
        <span class="n">gens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">traj</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">evolution</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">.</span><span class="n">scores</span>
        <span class="n">all_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">scores</span>

    <span class="k">if</span> <span class="n">drop_first</span><span class="p">:</span>
        <span class="n">gens</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">gens</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">gens</span><span class="p">,</span> <span class="n">all_scores</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.getValidPopulation">
<code class="highlight language-python"><span class="n">getValidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pop</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns a list of the valid population.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pop</code></td>
        <td><code>deap population</code></td>
        <td><p>Population to check, defaults to self.pop</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>list</code></td>
      <td><p>List of valid population</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getValidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pop</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of the valid population.</span>

<span class="sd">    :params pop: Population to check, defaults to self.pop</span>
<span class="sd">    :type pop: deap population</span>
<span class="sd">    :return: List of valid population</span>
<span class="sd">    :rtype: list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="n">pop</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pop</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">()</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">())]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.individualToDict">
<code class="highlight language-python"><span class="n">individualToDict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">individual</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Convert an individual to a parameter dictionary.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>individual</code></td>
        <td><code>Union[`deap.creat,.Individual`]</code></td>
        <td><p>Individual (<code>DEAP</code> type)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>Parameter dictionary of this individual</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">individualToDict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">individual</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert an individual to a parameter dictionary.</span>

<span class="sd">    :param individual: Individual (`DEAP` type)</span>
<span class="sd">    :type individual: `deap.creator.Individual`</span>
<span class="sd">    :return: Parameter dictionary of this individual</span>
<span class="sd">    :rtype: dict</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ParametersInterval</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">individual</span><span class="p">[:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="p">)]))</span><span class="o">.</span><span class="n">_asdict</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.info">
<code class="highlight language-python"><span class="n">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bestN</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Print and plot information about the evolution and the current population</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>plot</code></td>
        <td><code>bool, optional</code></td>
        <td><p>plot a plot using <code>matplotlib</code>, defaults to True</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>bestN</code></td>
        <td><code>int, optional</code></td>
        <td><p>Print summary of <code>bestN</code> best individuals, defaults to 5</p></td>
        <td><code>5</code></td>
      </tr>
      <tr>
        <td><code>info</code></td>
        <td><code>bool, optional</code></td>
        <td><p>Print information about the evolution environment</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bestN</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print and plot information about the evolution and the current population</span>

<span class="sd">    :param plot: plot a plot using `matplotlib`, defaults to True</span>
<span class="sd">    :type plot: bool, optional</span>
<span class="sd">    :param bestN: Print summary of `bestN` best individuals, defaults to 5</span>
<span class="sd">    :type bestN: int, optional</span>
<span class="sd">    :param info: Print information about the evolution environment</span>
<span class="sd">    :type info: bool, optional</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">info</span><span class="p">:</span>
        <span class="n">eu</span><span class="o">.</span><span class="n">printEvolutionInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">validPop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">)</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getScores</span><span class="p">()</span>
    <span class="c1"># Text output</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Info summary ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valid: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">validPop</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean score (weighted fitness): </span><span class="si">{:.2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">scores</span><span class="p">)))</span>
    <span class="n">eu</span><span class="o">.</span><span class="n">printParamDist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------------------&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best </span><span class="si">{</span><span class="n">bestN</span><span class="si">}</span><span class="s2"> individuals:&quot;</span><span class="p">)</span>
    <span class="n">eu</span><span class="o">.</span><span class="n">printIndividuals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">selBest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="n">bestN</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------------------&quot;</span><span class="p">)</span>
    <span class="c1"># Plotting evolutionary progress</span>
    <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
        <span class="c1"># hack: during the evolution we need to use reverse=True</span>
        <span class="c1"># after the evolution (with evolution.info()), we need False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotProgress</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="n">reverse</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Could not plot progress, is this a previously saved simulation?&quot;</span><span class="p">)</span>
        <span class="n">eu</span><span class="o">.</span><span class="n">plotPopulation</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">plotScattermatrix</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">save_plots</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">trajectoryName</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">plotColor</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.loadEvolution">
<code class="highlight language-python"><span class="n">loadEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Load evolution from previously saved simulatoins.</p>
<p>Example usage:
<div class="highlight"><pre><span></span><code>evaluateSimulation = lambda x: x # the funciton can be ommited, that&#39;s why we define a lambda here
pars = ParameterSpace([&#39;a&#39;, &#39;b&#39;], # should be same as previously saved evolution
              [[0.0, 4.0], [0.0, 5.0]])
evolution = Evolution(evaluateSimulation, pars, weightList = [1.0])
evolution = evolution.loadEvolution(&quot;data/evolution-results-2020-05-15-00H-24M-48S.dill&quot;)
</code></pre></div></p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fname</code></td>
        <td><code>str</code></td>
        <td><p>Filename, defaults to a path in ./data/</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>self</code></td>
      <td><p>Evolution</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">loadEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load evolution from previously saved simulatoins.</span>

<span class="sd">    Example usage:</span>
<span class="sd">    ```</span>
<span class="sd">    evaluateSimulation = lambda x: x # the funciton can be ommited, that&#39;s why we define a lambda here</span>
<span class="sd">    pars = ParameterSpace([&#39;a&#39;, &#39;b&#39;], # should be same as previously saved evolution</span>
<span class="sd">                  [[0.0, 4.0], [0.0, 5.0]])</span>
<span class="sd">    evolution = Evolution(evaluateSimulation, pars, weightList = [1.0])</span>
<span class="sd">    evolution = evolution.loadEvolution(&quot;data/evolution-results-2020-05-15-00H-24M-48S.dill&quot;)</span>
<span class="sd">    ```</span>

<span class="sd">    :param fname: Filename, defaults to a path in ./data/</span>
<span class="sd">    :type fname: str</span>
<span class="sd">    :return: Evolution</span>
<span class="sd">    :rtype: self</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">dill</span>

    <span class="n">evolution</span> <span class="o">=</span> <span class="n">dill</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span>
    <span class="c1"># parameter space is not saved correctly in dill, don&#39;t know why</span>
    <span class="c1"># that is why we recreate it using the values of</span>
    <span class="c1"># the parameter space in the dill</span>
    <span class="n">pars</span> <span class="o">=</span> <span class="n">ParameterSpace</span><span class="p">(</span>
        <span class="n">evolution</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">parameterNames</span><span class="p">,</span>
        <span class="n">evolution</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">parameterValues</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">evolution</span><span class="o">.</span><span class="n">parameterSpace</span> <span class="o">=</span> <span class="n">pars</span>
    <span class="n">evolution</span><span class="o">.</span><span class="n">paramInterval</span> <span class="o">=</span> <span class="n">evolution</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">named_tuple</span>
    <span class="n">evolution</span><span class="o">.</span><span class="n">ParametersInterval</span> <span class="o">=</span> <span class="n">evolution</span><span class="o">.</span><span class="n">parameterSpace</span><span class="o">.</span><span class="n">named_tuple_constructor</span>
    <span class="k">return</span> <span class="n">evolution</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.loadResults">
<code class="highlight language-python"><span class="n">loadResults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">trajectoryName</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Load results from a hdf file of a previous evolution and store the
pypet trajectory in <code>self.traj</code></p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filename</code></td>
        <td><code>str, optional</code></td>
        <td><p>hdf filename of the previous run, defaults to None</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>trajectoryName</code></td>
        <td><code>str, optional</code></td>
        <td><p>Name of the trajectory in the hdf file to load. If not given, the last one will be loaded, defaults to None</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">loadResults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">trajectoryName</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load results from a hdf file of a previous evolution and store the</span>
<span class="sd">    pypet trajectory in `self.traj`</span>

<span class="sd">    :param filename: hdf filename of the previous run, defaults to None</span>
<span class="sd">    :type filename: str, optional</span>
<span class="sd">    :param trajectoryName: Name of the trajectory in the hdf file to load. If not given, the last one will be loaded, defaults to None</span>
<span class="sd">    :type trajectoryName: str, optional</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">HDF_FILE</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">traj</span> <span class="o">=</span> <span class="n">pu</span><span class="o">.</span><span class="n">loadPypetTrajectory</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">trajectoryName</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.plotProgress">
<code class="highlight language-python"><span class="n">plotProgress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Plots progress of fitnesses of current evolution run</p>

        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">plotProgress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Plots progress of fitnesses of current evolution run&quot;&quot;&quot;</span>
    <span class="n">eu</span><span class="o">.</span><span class="n">plotProgress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="n">reverse</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.run">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose_plotting</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Run the evolution or continue previous evolution. If evolution was not initialized first
using <code>runInitial()</code>, this will be done.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>verbose</code></td>
        <td><code>bool, optional</code></td>
        <td><p>Print and plot state of evolution during run, defaults to False</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose_plotting</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the evolution or continue previous evolution. If evolution was not initialized first</span>
<span class="sd">    using `runInitial()`, this will be done.</span>

<span class="sd">    :param verbose: Print and plot state of evolution during run, defaults to False</span>
<span class="sd">    :type verbose: bool, optional</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verbose_plotting</span> <span class="o">=</span> <span class="n">verbose_plotting</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialPopulationSimulated</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runInitial</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">runEvolution</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.runEvolution">
<code class="highlight language-python"><span class="n">runEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Run the evolutionary optimization process for <code>NGEN</code> generations.</p>

        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">runEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the evolutionary optimization process for `NGEN` generations.&quot;&quot;&quot;</span>
    <span class="c1"># Start evolution</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Start of evolution&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_start_evolution</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="k">for</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="o">.</span><span class="n">NGEN</span><span class="p">):</span>
        <span class="c1"># ------- Weed out the invalid individuals and replace them by random new indivuals -------- #</span>
        <span class="n">validpop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">)</span>
        <span class="c1"># replace invalid individuals</span>
        <span class="n">invalidpop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getInvalidPopulation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">)</span>

        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Replacing </span><span class="si">{}</span><span class="s2"> invalid individuals.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">invalidpop</span><span class="p">)))</span>
        <span class="n">newpop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">population</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">invalidpop</span><span class="p">))</span>
        <span class="n">newpop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tagPopulation</span><span class="p">(</span><span class="n">newpop</span><span class="p">)</span>

        <span class="c1"># ------- Create the next generation by crossover and mutation -------- #</span>
        <span class="c1">### Select parents using rank selection and clone them ###</span>
        <span class="n">offspring</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
            <span class="nb">map</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">clone</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">selectParents</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">POP_SIZE</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">PARENT_SELECT_P</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1">##### cross-over ####</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">offspring</span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">mate</span><span class="p">(</span><span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">MATE_P</span><span class="p">)</span>
            <span class="c1"># delete fitness inherited from parents</span>
            <span class="k">del</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span>
            <span class="k">del</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">wvalues</span><span class="p">,</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">wvalues</span>

            <span class="c1"># assign parent IDs to new offspring</span>
            <span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parentIds</span> <span class="o">=</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
            <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">parentIds</span> <span class="o">=</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>

            <span class="c1"># delete id originally set from parents, needs to be deleted here!</span>
            <span class="c1"># will be set later in _tagPopulation()</span>
            <span class="k">del</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">offspring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>

        <span class="c1">##### Mutation ####</span>
        <span class="c1"># Apply mutation</span>
        <span class="n">du</span><span class="o">.</span><span class="n">mutateUntilValid</span><span class="p">(</span><span class="n">offspring</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="p">,</span> <span class="n">MUTATE_P</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">MUTATE_P</span><span class="p">)</span>

        <span class="n">offspring</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tagPopulation</span><span class="p">(</span><span class="n">offspring</span><span class="p">)</span>

        <span class="c1"># ------- Evaluate next generation -------- #</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="n">offspring</span> <span class="o">+</span> <span class="n">newpop</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_evalPopulationUsingPypet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="p">,</span> <span class="n">offspring</span> <span class="o">+</span> <span class="n">newpop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">)</span>

        <span class="c1"># log individuals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">]</span> <span class="o">=</span> <span class="n">validpop</span> <span class="o">+</span> <span class="n">offspring</span> <span class="o">+</span> <span class="n">newpop</span>  <span class="c1"># self.getValidPopulation(self.pop)</span>

        <span class="c1"># ------- Select surviving population -------- #</span>

        <span class="c1"># select next generation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">validpop</span> <span class="o">+</span> <span class="n">offspring</span> <span class="o">+</span> <span class="n">newpop</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="o">.</span><span class="n">popsize</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">SELECT_P</span><span class="p">)</span>

        <span class="c1"># ------- END OF ROUND -------</span>

        <span class="c1"># save all simulation data to pypet</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="n">eu</span><span class="o">.</span><span class="n">saveToPypet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">)</span>

        <span class="c1"># select best individual for logging</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">best_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">selBest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># text log</span>
        <span class="n">next_print</span> <span class="o">=</span> <span class="nb">print</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="k">else</span> <span class="n">logging</span><span class="o">.</span><span class="n">info</span>
        <span class="n">next_print</span><span class="p">(</span><span class="s2">&quot;----------- Generation </span><span class="si">%i</span><span class="s2"> -----------&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">)</span>
        <span class="n">next_print</span><span class="p">(</span><span class="s2">&quot;Best individual is </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_ind</span><span class="p">))</span>
        <span class="n">next_print</span><span class="p">(</span><span class="s2">&quot;Score: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_ind</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">score</span><span class="p">))</span>
        <span class="n">next_print</span><span class="p">(</span><span class="s2">&quot;Fitness: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_ind</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
        <span class="n">next_print</span><span class="p">(</span><span class="s2">&quot;--- Population statistics ---&quot;</span><span class="p">)</span>

        <span class="c1"># verbose output</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose_plotting</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;--- End of evolution ---&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Best individual is </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">best_ind</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_ind</span><span class="o">.</span><span class="n">fitness</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;--- End of evolution ---&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="o">.</span><span class="n">f_store</span><span class="p">()</span>  <span class="c1"># We switched off automatic storing, so we need to store manually</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_end_evolution</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_buildEvolutionTree</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.runInitial">
<code class="highlight language-python"><span class="n">runInitial</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Run the first round of evolution with the initial population of size <code>POP_INIT_SIZE</code>
and select the best <code>POP_SIZE</code> for the following evolution. This needs to be run before <code>runEvolution()</code></p>

        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">runInitial</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the first round of evolution with the initial population of size `POP_INIT_SIZE`</span>
<span class="sd">    and select the best `POP_SIZE` for the following evolution. This needs to be run before `runEvolution()`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_start_initial_population</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

    <span class="c1"># Create the initial population</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">population</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">POP_INIT_SIZE</span><span class="p">)</span>

    <span class="c1">### Evaluate the initial population</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Evaluating initial population of size </span><span class="si">%i</span><span class="s2"> ...&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># set generation index</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tagPopulation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">)</span>

    <span class="c1"># evaluate</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evalPopulationUsingPypet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
        <span class="n">eu</span><span class="o">.</span><span class="n">printParamDist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">paramInterval</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">)</span>

    <span class="c1"># save all simulation data to pypet</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="n">eu</span><span class="o">.</span><span class="n">saveToPypet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">)</span>

    <span class="c1"># reduce initial population to popsize</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbox</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">traj</span><span class="o">.</span><span class="n">popsize</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">SELECT_P</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_initialPopulationSimulated</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># populate history for tracking</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">gIdx</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop</span>  <span class="c1"># self.getValidPopulation(self.pop)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_t_end_initial_population</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 class="doc doc-heading" id="neurolib.optimize.evolution.evolution.Evolution.saveEvolution">
<code class="highlight language-python"><span class="n">saveEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Save evolution to file using dill.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fname</code></td>
        <td><code>str, optional</code></td>
        <td><p>Filename, defaults to a path in ./data/</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>neurolib/optimize/evolution/evolution.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">saveEvolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save evolution to file using dill.</span>

<span class="sd">    :param fname: Filename, defaults to a path in ./data/</span>
<span class="sd">    :type fname: str, optional</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">dill</span>

    <span class="n">fname</span> <span class="o">=</span> <span class="n">fname</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;data/&quot;</span><span class="p">,</span> <span class="s2">&quot;evolution-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">trajectoryName</span> <span class="o">+</span> <span class="s2">&quot;.dill&quot;</span><span class="p">)</span>
    <span class="n">dill</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">))</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saving evolution to </span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../models/parameters.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Parameters" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Parameters
            </div>
          </div>
        </a>
      
      
        
        <a href="../utils/dataset.html" class="md-footer__link md-footer__link--next" aria-label="Next: Dataset" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Dataset
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://twitter.com/neurolib-dev" target="_blank" rel="noopener" title="neurolib on Twitter" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.76f349be.min.js"></script>
      
        <script src="../js/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>